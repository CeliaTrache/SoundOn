<h2>Add Players</h2>

<%= form_tag edit_game_path(@game), method: :get do %>
  <%= number_field_tag :number_of_players,
    params[:number_of_players],
    class: "form-control",
    placeholder: "How many players ?"
  %>
  <%= submit_tag "Set players", class: "btn btn-primary" %>
<% end %>

<% if @number_of_players %>
  <%= simple_form_for @game do |f| %>
    <%# <%= f.simple_fields_for :players do |p| %>
      <%# <%= p.input :nickname, label: 'Player name', as: :string, required: true %>
    <%# <% end %>
    <% @number_of_players.times do |i| %>
      <input class="form-control string required" required="required" aria-required="true" type="text" value="" name="game[players_attributes][<%= i %>][nickname]" id="game_players_attributes_<%= i %>_nickname">
      <% i += 1 %>
    <% end %>

    <%= f.button :submit, "Play", class: "btn btn-primary" %>
  <% end %>
<% end %>
