<div class="background-pages edit d-flex flex-column align-items-center">

  <h1>Players</h1>
  <%= render "shared/players_slider" %>

  <%= form_tag edit_game_path(@game), method: :get, style: "display:none;" do %>
    <%= number_field_tag :number_of_players,
      params[:number_of_players],
      class: "form-control",
      placeholder: "How many players ?"
    %>
    <%= submit_tag "Set players", class: "btn btn-primary" %>
  <% end %>

  <div class= "btn-next" data-controller="set-players">
    <%= link_to "Add Players", games_path, data: { action: 'click->set-players#send', turbo: false}, class: "my-4 btn-player" %>
  </div>

  <% if @number_of_players %>
    <%= simple_form_for @game do |f| %>
      <%# <%= f.simple_fields_for :players do |p| %>
        <%# <%= p.input :nickname, label: 'Player name', as: :string, required: true %>
      <%# <% end %>
      <% @number_of_players.times do |i| %>
        <input class="form-control string required game-players mb-2" required="required" aria-required="true" type="text" value="" name="game[players_attributes][<%= i %>][nickname]" id="game_players_attributes_<%= i %>_nickname">
        <% i += 1 %>
      <% end %>
      <div class="d-flex flex-column align-items-center">
        <%= f.button :submit, "Play", class: "btn-player" %>
      </div>
    <% end %>
  <% end %>
</div>
